<!doctype html>
<html lang="en">
    <title>Robot Security System</title>
    <link rel="stylesheet" href="foundation.min.css">
<body>
    </p>
    
    <div class="row column">
        <div class="blog-post">
            <h3>2. Robot Controller Simulation (with FRDM-KL25Z)</h3>
            <div style="width:600px; height:300px; border-style: solid; border-width: 1px;">
                <div id="test" style="
                    width: 100px; height: 100px; position: absolute; left: 100px; top: 100px;">
                    <img src="robot-security-650x502.png" width="100" height="100">
                        </div>
                <!--
                 <canvas id="m" width="600" height="300"></canvas>
                 <div id=imageDiv style="position:relative; top:20; left:500; height:50; width:50">
                 <img src="robot-security-650x502.png" width="100" height="150">
                 </div>
                 -->
            </div>
            <script>
                //x:30~535
                //y:420~625
                
                chrId = document.getElementById('test');
                chrId.style.top = 550 + "px";
                chrId.style.left = 100 + "px";
                
                var n;
                //move(2);
                function move() {
                    var k = event.keyCode,
                    chrId = document.getElementById('test'),
                    chr = {
                        updown: function () {
                            var y = parseInt(getComputedStyle(chrId).top);
                            if (k == 38) { //38(up)
                                //--y;
                                if (y <= 420){
                                    y=y-10;
                                }
                                else {
                                    y=y-10;
                                }
                            }
                            else if (k == 40) { //40(down)
                                //++y;
                                if (y >= 625){
                                    y=y+10;
                                }
                                else {
                                    y=y+10;
                                }
                            }
                            
                            return y;
                        },
                        
                        leftright: function () {
                            var x = parseInt(getComputedStyle(chrId).left);
                            if (k == 37) { //37
                                //--x;
                                if (x <= 30){
                                    x=x-10;
                                }
                                else {
                                    x=x-10;
                                }
                            }
                            else if (k == 39) { //39(right)
                                //++x;
                                if (x >= 535){
                                    x=x+10;
                                }
                                else {
                                    x=x+10;
                                }
                            }
                            
                            return x;
                        }
                    };
                    
                    chrId.style.top = (chr.updown()) + "px";
                    chrId.style.left = (chr.leftright()) + "px";
                    
                    //setTimeout("move(usefloor(0,3))",150);
                    setTimeout("move()",150);
                }
            
            
            function usefloor(min,max) {
                return Math.floor(Math.random()*(max-min+1)+min);
            }
            
            document.addEventListener('keydown', move);
            
                </script>
            <p>You can set the robot to manual mode and use the 3-D accelerometer(FRDM-KL25Z) to control the robot move. <br>Just turn the FRDM-KL25Z upsite down or turn right/left.
            </p>
        </div>
    </div>
</body>
</html>